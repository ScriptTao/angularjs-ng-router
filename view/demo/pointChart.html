<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>散点图功能演示</title>

    <link rel="stylesheet" href="../../bootstrap-3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../../DataTables/DataTables-1.10.16/css/jquery.dataTables.css">
    <link rel="stylesheet" href="../../highlight/styles/rainbow.css">
    <link rel="stylesheet" href="../../css/ustb.css">
</head>
<body>
<div class="container">
    <div class="page-header">
        <h1>散点图使用方法演示</h1>
        <p class="lead">基于开源eCharts实现</p>
    </div>

    <h3>基本使用方法</h3>
    <p>在html文档的header区域引入样式文件，在body底部引入javascript文件。请注意引入的文件路径</p>
    <pre><code class="html">
&lt;link rel="stylesheet" href="../../bootstrap-3.3.7/css/bootstrap.min.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="../../DataTables/datatables.css"&gt;
&lt;link rel="stylesheet" href="../../highlight/styles/rainbow.css"&gt;
&lt;link rel="stylesheet" href="../../css/ustb.css"&gt;

&lt;script src="../../jquery-3.2.1/jquery-3.2.1.min.js"&gt;&lt;/script&gt;
&lt;script src="../../bootstrap-3.3.7/js/bootstrap.min.js"&gt;&lt;/script&gt;
&lt;script src="../../highlight/highlight.pack.js"&gt;&lt;/script&gt;
&lt;script src="../../echarts/echarts-3.8.0.js"&gt;&lt;/script&gt;
&lt;script src="../../js/q.js""&gt;&lt;/script"&gt;
&lt;script src="../../js/ustb.js"&gt;&lt;/script&gt;
    </code></pre>

    <p>创建用于展示图表的html容器，其样式大小按照html规范设置</p>
    <pre><code> &lt;div id="chart" style="width: 600px;height:500px;"&gt;&lt;/div&gt;
    </code></pre>

    <p>绑定标签数据，展示图表。每次点击刷新按钮，都会追加生成tag数据，可以看到散点图动态往前走的效果</p>
    <pre><code>
    $(document).ready(function(){
        makePoints();

        for (var i=0; i<5; i++) {
            generateCurveData();
        }


        $("#btnGenrateData").click(function() {
            generateCurveData();
        });
    });

    function makePoints() {
        //
        // ustb专用配置
        // opts.ustb.xAxis 横坐标属性名称，必须指定
        // opts.ustb.tag     图表数据对应的tag名称
        //
        ustb.makePoints("#chart", {
            "ustb": {
                "showLegend": false,
                "tag": "F4Curve",

                // x坐标对应的属性
                "x": "A",
                // y坐标对应的属性
                "y": "B",

                // x轴显示的宽度
                "xWidth": 200
            },
            "title": {
                "text": 'F2Curve曲线',
                "subtext": '数据可以点击按钮修改',
                "left": "auto"
            },
            "xAxis": {
                "name": "属性A的值",
                "nameLocation": "center",
                "nameGap": 35
            },
            "yAxis": {
                "name": "属性B的值",
                "nameLocation": "center",
                "nameGap": 35
            }
        });
    }

    var data = [];
    var lastX = 0;

    function generateCurveData() {
        lastX += Math.random() * 10 + 1;
        data.push({
            "A": lastX,
            "B": Math.random() * 10
        });

        var tag = {
            "name": "F4Curve",
            "dataList": data
        };

        ustb.sendTag([tag]);
    }
    </code></pre>

    <button id="btnGenrateData" class="btn btn-default">随机改变标签值</button>

    <div id="chart" style="width:600px; height: 500px;"></div>

</div>
</body>

<script src="../../jquery-3.2.1/jquery-3.2.1.min.js"></script>
<script src="../../bootstrap-3.3.7/js/bootstrap.min.js"></script>
<script src="../../highlight/highlight.pack.js"></script>
<script src="../../echarts/echarts-3.8.0.js"></script>
<script src="../../js/q.js"></script>
<script src="../../js/ustb.js"></script>

<script language="JavaScript">
    hljs.initHighlightingOnLoad();

    $(document).ready(function(){
        makePoints();

        for (var i=0; i<5; i++) {
            generateCurveData();
        }


        $("#btnGenrateData").click(function() {
            generateCurveData();
        });
    });

    function makePoints() {
        //
        // ustb专用配置
        // opts.ustb.xAxis 横坐标属性名称，必须指定
        // opts.ustb.tag     图表数据对应的tag名称
        //
        ustb.makePoints("#chart", {
            "ustb": {
                "showLegend": false,
                "tag": "F4Curve",
                "x": "A",
                "y": "B",
                "xWidth": 200
            },
            "title": {
                "text": 'F2Curve曲线',
                "subtext": '数据可以点击按钮修改',
                "left": "auto"
            },
            "xAxis": {
                "name": "属性A的值",
                "nameLocation": "center",
                "nameGap": 35
            },
            "yAxis": {
                "name": "属性B的值",
                "nameLocation": "center",
                "nameGap": 35
            }
        });
    }

    var data = [];
    var lastX = 0;

    function generateCurveData() {
        lastX += Math.random() * 10 + 1;
        data.push({
            "A": lastX,
            "B": Math.random() * 10
        });

        var tag = {
            "name": "F4Curve",
            "dataList": data
        };

        ustb.sendTag([tag]);
    }

</script>
</html>