<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>对话框</title>

    <link rel="stylesheet" href="../../bootstrap-3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../highlight/styles/rainbow.css">
    <link rel="stylesheet" href="../../jquery-ui-1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="../../css/ustb.css">
</head>
<body>
<div class="container">
    <div class="page-header">
        <h1>对话框</h1>
        <p class="lead">对话框示例</p>
    </div>

    <div class="well">
        <div>
            <button class="btn btn-primary">打开对话框</button>
        </div>
    </div>

    <div class="modal fade" id="dlg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">模态框（Modal）标题</h4>
                </div>
                <div class="modal-body">
                    <form class="form-group">
                        <input class="form-control" name="input"/>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary">提交更改</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal -->
    </div>

    <p>首先创建对话框，对话框中各个区域的内容可以根据需要进行修改</p>
    <pre><code>
    &lt;div class="modal fade" id="dlg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"&gt;
       &lt;div class="modal-dialog"&gt;
           &lt;div class="modal-content"&gt;
               &lt;div class="modal-header"&gt;
                   &lt;button type="button" class="close" data-dismiss="modal" aria-hidden="true"&gt;&times;&lt;/button&gt;
                   &lt;h4 class="modal-title" id="myModalLabel"&gt;模态框（Modal）标题&lt;/h4&gt;
               &lt;/div&gt;
               &lt;div class="modal-body"&gt;
                   &lt;form class="form-group"&gt;
                       &lt;input class="form-control" name="input"/&gt;
                   &lt;/form&gt;
               &lt;/div&gt;
               &lt;div class="modal-footer"&gt;
                   &lt;button type="button" class="btn btn-default" data-dismiss="modal"&gt;关闭&lt;/button&gt;
                   &lt;button type="button" class="btn btn-primary"&gt;提交更改&lt;/button&gt;
               &lt;/div&gt;
           &lt;/div&gt;&lt;!-- /.modal-content --&gt;
       &lt;/div&gt;&lt;!-- /.modal --&gt;
    &lt;/div&gt;
    </code></pre>

    <p>
        显示对话框。
    </p>
    <pre><code>
    var $dlg = ustb.makeDialog({
        selector: "#dlg"
    });

    $dlg.on("click", "button", function () {
        alert($dlg.find("input").val());
    });
    </code></pre>

    <p>
        请注意，makeDialog函数会根据selector指定的模板生成一个位于top窗体的临时对话框，并在函数结束时返回此对话框的jquery对象。
        因此，使用过程中因注意：
    </p>

    <ul>
        <li>如果希望动态改变对话框的样式，可以先动态改变对话框模板，然后调用makeDialog生成对话框</li>
        <li>如果希望对话框展示期间，处理对话框上的元素事件，需针对makeDialog返回的对话框对象注册，针对对话框模板注册是无效的</li>
        <li>如果希望获取对话框数据，必须在对话框关闭前获取，否则对话框会销毁，数据是获取不到的</li>
        <li>
            对话框的关闭、事件注册等，请参考
            <a href="http://www.runoob.com/bootstrap/bootstrap-modal-plugin.html">
                bootstrap对话框操作手册
            </a>
        </li>
    </ul>

    <div style="height:300px;"></div>
</div>
</body>

<script src="../../jquery-3.2.1/jquery-3.2.1.min.js"></script>
<script src="../../bootstrap-3.3.7/js/bootstrap.min.js"></script>
<script src="../../jquery-ui-1.12.1/jquery-ui.min.js"></script>
<script src="../../highlight/highlight.pack.js"></script>
<script src="../../js/q.js"></script>
<script src="../../js/ustb.js"></script>

<script language="JavaScript">
    hljs.initHighlightingOnLoad();

    $(document).ready(function () {
        $("button").click(function () {
            var $dlg = ustb.makeDialog({
                selector: "#dlg"
            });

            $dlg.on("click", "button.btn-primary", function () {
                alert($dlg.find("input").val());
            });
        });
    });

</script>
</html>