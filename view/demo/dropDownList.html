<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>可输入下拉菜单演示</title>

    <link rel="stylesheet" href="../../bootstrap-3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../../DataTables/DataTables-1.10.16/css/jquery.dataTables.css">
    <link rel="stylesheet" href="../../highlight/styles/rainbow.css">
    <link rel="stylesheet" href="../../css/ustb.css">
</head>
<body>
<div class="container">
    <div class="page-header">
        <h1>可输入下拉菜单演示</h1>
        <p class="lead">实现可输入的下拉菜单功能</p>
    </div>

    <h3>基本使用方法</h3>
    <p>在html文档的header区域引入样式文件，在body底部引入javascript文件。请注意引入的文件路径</p>
    <pre><code class="html">
&lt;link rel="stylesheet" href="../../bootstrap-3.3.7/css/bootstrap.min.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="../../DataTables/datatables.css"&gt;
&lt;link rel="stylesheet" href="../../highlight/styles/rainbow.css"&gt;
&lt;link rel="stylesheet" href="../../css/ustb.css"&gt;

&lt;script src="../../jquery-3.2.1/jquery-3.2.1.min.js"&gt;&lt;/script&gt;
&lt;script src="../../bootstrap-3.3.7/js/bootstrap.min.js"&gt;&lt;/script&gt;
&lt;script src="../../highlight/highlight.pack.js"&gt;&lt;/script&gt;
&lt;script src="../../echarts/echarts-3.8.0.js"&gt;&lt;/script&gt;
&lt;script src="../../js/q.js""&gt;&lt;/script"&gt;
&lt;script src="../../js/ustb.js"&gt;&lt;/script&gt;
    </code></pre>

    <div class="well">
        <input  id="ddl" type="text" />
        <br/>
        <button id="btnCall" class="btn btn-default">随便改变Tag值</button>
    </div>


    <p>创建input作为下拉菜单</p>
    <pre><code>
    &lt;input  id="ddl" type="text" /&gt;
    </code></pre>

    <p>调用ustb.makeDropDownList方法创建下拉菜单，并绑定Tag</p>
    <pre><code>
    ustb.makeDropDownList({
        // 需要创建为下拉框的控件
        "selector": "#ddl",

        // 下拉绑定的数据，每次调用都会刷新绑定值
        "tag": "F1Curve",

        // 绑定的Tag数据集属性，默认为Value
        "textField": "Text",

        // 是否可编辑
        "editable": false
    });
    </code></pre>


    <div style="height:300px;"></div>
</div>
</body>

<script src="../../jquery-3.2.1/jquery-3.2.1.min.js"></script>
<script src="../../bootstrap-3.3.7/js/bootstrap.min.js"></script>
<script src="../../highlight/highlight.pack.js"></script>
<script src="../../echarts/echarts-3.8.0.js"></script>
<script src="../../js/q.js"></script>
<script src="../../js/ustb.js"></script>

<script language="JavaScript">
    hljs.initHighlightingOnLoad();

    $(document).ready(function () {
        makeDropDownList();

        $("#btnCall").click(function() {
            var tags = [];

            var dataList = [];
            var len = Math.floor(Math.random() * 10) + 1;
            for (var i = 0; i < len; i++) {
                dataList.push({
                    "Text": ustb.randomStr(5),
                    "Value": ustb.randomInt()
                });
            }

            tags.push({
                "name": "F1Curve",
                "dataList": dataList
            });

            ustb.sendTag(tags, function (response) {
                console.log(response);

                // 重新绑定
                makeDropDownList();
            });
        });
    });

    function makeDropDownList() {
        ustb.makeDropDownList({
            // 需要创建为下拉框的控件
            "selector": "#ddl",

            // 下拉绑定的数据，每次调用都会刷新绑定值
            "tag": "F1Curve",

            // 绑定的Tag数据集属性，默认为Value
            "textField": "Text",

            // 是否可编辑
            "editable": false
        });
    }

</script>
</html>